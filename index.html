<!DOCTYPE html>
<html lang="es-CR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRTE MEP - Sistema Integral de Gesti√≥n</title>
    <!-- Enlaces EXTERNOS que S√ç funcionan (los que solicitaste) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --mep-azul: #0056a6;
            --mep-verde: #00a859;
            --mep-naranja: #f26522;
            --fondo: #f5f9ff;
            --borde: #dce7ff;
            --texto: #1a365d;
            --sombra: 0 8px 30px rgba(0, 86, 166, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: var(--fondo);
            color: var(--texto);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ===== HEADER PROFESIONAL ===== */
        .header-sistema {
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 25px;
            box-shadow: var(--sombra);
            border-left: 6px solid var(--mep-verde);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo-mep {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-mep i {
            font-size: 2.8rem;
            color: var(--mep-azul);
        }

        .titulo-sistema h1 {
            color: var(--mep-azul);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .titulo-sistema p {
            color: #666;
            font-size: 0.95rem;
        }

        /* ===== NAVEGACI√ìN CON ENLACES ===== */
        .nav-principal {
            background: white;
            border-radius: 15px;
            margin-bottom: 25px;
            display: flex;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .nav-btn {
            flex: 1;
            padding: 18px 10px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .nav-btn:hover {
            background: #f8fafc;
            color: var(--mep-azul);
        }

        .nav-btn.activo {
            color: var(--mep-azul);
            border-bottom-color: var(--mep-azul);
            background: linear-gradient(to bottom, #f0f7ff, white);
        }

        /* ===== CONTENIDO DE SECCIONES ===== */
        .seccion-contenido {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--sombra);
            animation: aparecer 0.4s ease;
        }

        @keyframes aparecer {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .seccion-contenido.visible {
            display: block;
        }

        .titulo-seccion {
            color: var(--mep-azul);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eef5ff;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* ===== BIT√ÅCORA DIARIA ===== */
        .formulario-bitacora {
            display: grid;
            gap: 20px;
        }

        .grupo-form {
            margin-bottom: 15px;
        }

        .etiqueta {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #444;
        }

        .entrada, .area-texto {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .entrada:focus, .area-texto:focus {
            outline: none;
            border-color: var(--mep-azul);
            box-shadow: 0 0 0 3px rgba(0, 86, 166, 0.1);
        }

        .area-texto {
            min-height: 200px;
            resize: vertical;
        }

        /* ===== √ÅREA DE ARCHIVOS VISIBLE ===== */
        .zona-subida {
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 50px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8fafc;
            margin: 25px 0;
        }

        .zona-subida:hover {
            border-color: var(--mep-verde);
            background: #f0fff4;
            transform: translateY(-3px);
        }

        .zona-subida i {
            font-size: 3.5rem;
            color: var(--mep-azul);
            margin-bottom: 15px;
        }

        .vista-previa-archivos {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .tarjeta-archivo {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }

        .tarjeta-archivo:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.08);
            border-color: var(--mep-azul);
        }

        .icono-archivo {
            font-size: 2.8rem;
            margin-bottom: 15px;
        }

        .pdf { color: #e53e3e; }
        .word { color: #2b579a; }
        .excel { color: #217346; }
        .imagen { color: #38a169; }
        .otro { color: #718096; }

        /* ===== CALENDARIO FUNCIONAL ===== */
        .contenedor-calendario {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--sombra);
        }

        .navegacion-mes {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .btn-mes {
            background: var(--mep-azul);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .btn-mes:hover {
            background: #004a8c;
            transform: translateY(-2px);
        }

        .cuadricula-calendario {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-top: 15px;
        }

        .dia-semana {
            text-align: center;
            font-weight: 600;
            padding: 12px;
            color: #4a5568;
            background: #f7fafc;
            border-radius: 8px;
        }

        .dia-calendario {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            background: white;
        }

        .dia-calendario:hover {
            background: #ebf8ff;
            border-color: var(--mep-azul);
        }

        .dia-calendario.hoy {
            background: #ebf8ff;
            border-color: var(--mep-azul);
            color: var(--mep-azul);
            font-weight: 700;
        }

        .dia-calendario.con-archivos::after {
            content: '';
            position: absolute;
            bottom: 6px;
            width: 8px;
            height: 8px;
            background: var(--mep-verde);
            border-radius: 50%;
        }

        /* ===== FILTROS VISIBLES ===== */
        .filtros-tiempo {
            display: flex;
            gap: 12px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .btn-filtro {
            padding: 12px 24px;
            background: #edf2f7;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-filtro:hover {
            background: #e2e8f0;
        }

        .btn-filtro.activo {
            background: var(--mep-azul);
            color: white;
        }

        /* ===== SISTEMA DE INFORMES ===== */
        .opciones-informe {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .tarjeta-informe {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
            cursor: pointer;
        }

        .tarjeta-informe:hover {
            background: white;
            border-color: var(--mep-verde);
            transform: translateY(-5px);
        }

        .tarjeta-informe i {
            font-size: 2.5rem;
            color: var(--mep-azul);
            margin-bottom: 15px;
        }

        /* ===== BOTONES DE ACCI√ìN ===== */
        .boton {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            text-decoration: none;
        }

        .boton-principal {
            background: var(--mep-azul);
            color: white;
        }

        .boton-exito {
            background: var(--mep-verde);
            color: white;
        }

        .boton-advertencia {
            background: var(--mep-naranja);
            color: white;
        }

        .boton:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .header-sistema {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .nav-principal {
                flex-direction: column;
            }
            
            .vista-previa-archivos {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .cuadricula-calendario {
                gap: 4px;
            }
        }

        @media (max-width: 480px) {
            .vista-previa-archivos {
                grid-template-columns: 1fr;
            }
            
            .filtros-tiempo {
                justify-content: center;
            }
        }

        /* ===== ESTADO VAC√çO ===== */
        .estado-vacio {
            text-align: center;
            padding: 60px 20px;
            color: #718096;
        }

        .estado-vacio i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #cbd5e0;
        }

        /* ===== NOTIFICACIONES ===== */
        .notificacion {
            position: fixed;
            top: 25px;
            right: 25px;
            padding: 18px 25px;
            background: var(--mep-verde);
            color: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            z-index: 10000;
            animation: deslizarEntrada 0.4s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 400px;
        }

        @keyframes deslizarEntrada {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes deslizarSalida {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER DEL SISTEMA -->
        <header class="header-sistema">
            <div class="logo-mep">
                <i class="fas fa-chalkboard-teacher"></i>
                <div class="titulo-sistema">
                    <h1>DRTE MEP - Sistema Integral de Gesti√≥n</h1>
                    <p>Departamento de Recursos T√©cnicos y Educativos</p>
                    <p><i class="fas fa-user-tie"></i> Usuario: Kevin S√°nchez Bogar√≠n</p>
                </div>
            </div>
            <div id="fecha-hora-actual">
                <i class="fas fa-clock"></i> <span id="texto-fecha-hora">Cargando...</span>
            </div>
        </header>

        <!-- NAVEGACI√ìN PRINCIPAL -->
        <nav class="nav-principal">
            <button class="nav-btn activo" onclick="cambiarSeccion('dashboard')">
                <i class="fas fa-chart-line"></i> Dashboard
            </button>
            <button class="nav-btn" onclick="cambiarSeccion('bitacora')">
                <i class="fas fa-book"></i> Bit√°cora Diaria
            </button>
            <button class="nav-btn" onclick="cambiarSeccion('archivos')">
                <i class="fas fa-folder"></i> Archivos por Fecha
            </button>
            <button class="nav-btn" onclick="cambiarSeccion('calendario')">
                <i class="fas fa-calendar-alt"></i> Calendario
            </button>
            <button class="nav-btn" onclick="cambiarSeccion('informes')">
                <i class="fas fa-file-alt"></i> Informes
            </button>
            <button class="nav-btn" onclick="cambiarSeccion('tareas')">
                <i class="fas fa-tasks"></i> Sistema de Tareas
            </button>
        </nav>

        <!-- DASHBOARD -->
        <section id="dashboard" class="seccion-contenido visible">
            <h2 class="titulo-seccion"><i class="fas fa-chart-line"></i> Dashboard General</h2>
            
            <div class="filtros-tiempo">
                <button class="btn-filtro activo" onclick="filtrarDashboard('hoy')">
                    <i class="fas fa-calendar-day"></i> Hoy
                </button>
                <button class="btn-filtro" onclick="filtrarDashboard('ayer')">
                    <i class="fas fa-history"></i> Ayer
                </button>
                <button class="btn-filtro" onclick="filtrarDashboard('semana')">
                    <i class="fas fa-calendar-week"></i> Esta Semana
                </button>
                <button class="btn-filtro" onclick="filtrarDashboard('mes')">
                    <i class="fas fa-calendar"></i> Este Mes
                </button>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; margin: 30px 0;">
                <div style="background: linear-gradient(135deg, #ebf8ff, #bee3f8); padding: 25px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.8rem; font-weight: 800; color: var(--mep-azul);" id="total-archivos-dash">0</div>
                    <div style="color: #2d3748; font-weight: 600;">Archivos Totales</div>
                </div>
                <div style="background: linear-gradient(135deg, #f0fff4, #c6f6d5); padding: 25px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.8rem; font-weight: 800; color: var(--mep-verde);" id="archivos-hoy-dash">0</div>
                    <div style="color: #2d3748; font-weight: 600;">Archivos Hoy</div>
                </div>
                <div style="background: linear-gradient(135deg, #fffaf0, #feebc8); padding: 25px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.8rem; font-weight: 800; color: var(--mep-naranja);" id="tareas-pendientes">0</div>
                    <div style="color: #2d3748; font-weight: 600;">Tareas Pendientes</div>
                </div>
            </div>
            
            <div style="margin-top: 40px;">
                <h3 style="color: var(--mep-azul); margin-bottom: 20px;">
                    <i class="fas fa-bolt"></i> Acciones R√°pidas
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <button class="boton boton-principal" onclick="cambiarSeccion('bitacora')">
                        <i class="fas fa-plus"></i> Nueva Bit√°cora
                    </button>
                    <button class="boton boton-exito" onclick="cambiarSeccion('archivos')">
                        <i class="fas fa-upload"></i> Subir Archivos
                    </button>
                    <button class="boton boton-advertencia" onclick="generarInformeDiario()">
                        <i class="fas fa-file-pdf"></i> Informe Diario
                    </button>
                    <button class="boton" style="background: #6c757d; color: white;" onclick="cambiarSeccion('tareas')">
                        <i class="fas fa-tasks"></i> Ver Tareas
                    </button>
                </div>
            </div>
        </section>

        <!-- BIT√ÅCORA DIARIA -->
        <section id="bitacora" class="seccion-contenido">
            <h2 class="titulo-seccion"><i class="fas fa-book-open"></i> Bit√°cora Diaria</h2>
            
            <div class="formulario-bitacora">
                <div class="grupo-form">
                    <label class="etiqueta">Fecha de la Bit√°cora</label>
                    <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                        <input type="date" id="fecha-bitacora" class="entrada" style="width: 220px;">
                        <button class="boton" style="background: #6c757d; color: white;" onclick="cargarBitacora()">
                            <i class="fas fa-search"></i> Buscar
                        </button>
                        <button class="boton boton-exito" onclick="cargarHoy()">
                            <i class="fas fa-calendar-day"></i> Bit√°cora de Hoy
                        </button>
                    </div>
                </div>
                
                <div class="grupo-form">
                    <label class="etiqueta">T√≠tulo / Asunto</label>
                    <input type="text" id="titulo-bitacora" class="entrada" placeholder="Ej: Revisi√≥n de curr√≠culo t√©cnico, Reuni√≥n de planificaci√≥n...">
                </div>
                
                <div class="grupo-form">
                    <label class="etiqueta">Contenido de la Bit√°cora</label>
                    <textarea id="contenido-bitacora" class="area-texto" rows="12" 
                              placeholder="Describa las actividades realizadas hoy, reuniones, avances, observaciones importantes..."></textarea>
                </div>
                
                <!-- √ÅREA DE ARCHIVOS VISIBLE EN BIT√ÅCORA -->
                <div class="grupo-form">
                    <label class="etiqueta">Archivos Adjuntos</label>
                    <div class="zona-subida" onclick="document.getElementById('archivos-bitacora').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>Arrastre archivos aqu√≠ o haga clic</h3>
                        <p>Adjunte evidencias, documentos, im√°genes relacionadas con la bit√°cora</p>
                        <p style="color: #718096; font-size: 0.9rem;">Formatos: PDF, DOC, XLS, JPG, PNG (M√°x. 50MB)</p>
                        <input type="file" id="archivos-bitacora" multiple style="display: none;">
                    </div>
                    
                    <div id="adjuntos-bitacora" class="vista-previa-archivos">
                        <!-- Archivos adjuntos aparecen aqu√≠ -->
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <button class="boton boton-principal" onclick="guardarBitacora()">
                        <i class="fas fa-save"></i> Guardar Bit√°cora
                    </button>
                    <button class="boton boton-exito" onclick="generarPDFBitacora()">
                        <i class="fas fa-file-pdf"></i> Exportar PDF
                    </button>
                </div>
            </div>
        </section>

        <!-- ARCHIVOS POR FECHA -->
        <section id="archivos" class="seccion-contenido">
            <h2 class="titulo-seccion"><i class="fas fa-folder"></i> Archivos Organizados por Fecha</h2>
            
            <!-- SELECTOR DE FECHA VISIBLE -->
            <div class="grupo-form">
                <label class="etiqueta">Seleccione Fecha para Ver/Subir Archivos</label>
                <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                    <button class="boton" style="background: #718096; color: white;" onclick="diaAnterior()">
                        <i class="fas fa-chevron-left"></i> Ayer
                    </button>
                    <input type="date" id="fecha-archivos" class="entrada" style="width: 220px;">
                    <button class="boton" style="background: #718096; color: white;" onclick="diaSiguiente()">
                        <i class="fas fa-chevron-right"></i> Ma√±ana
                    </button>
                    <button class="boton boton-principal" onclick="cargarArchivosFecha()">
                        <i class="fas fa-search"></i> Cargar
                    </button>
                    <button class="boton boton-exito" onclick="irHoy()">
                        <i class="fas fa-calendar-day"></i> Hoy
                    </button>
                </div>
            </div>
            
            <!-- √ÅREA DE SUBIDA MUY VISIBLE -->
            <div class="zona-subida" id="area-arrastrar" 
                 onclick="document.getElementById('entrada-archivos').click()">
                <i class="fas fa-cloud-upload-alt"></i>
                <h3>Arrastre y suelte archivos aqu√≠</h3>
                <p>o haga clic para seleccionar archivos del sistema</p>
                <p style="color: #718096; font-size: 0.9rem;">
                    Formatos permitidos: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, CSV, TXT, PPT (M√°x. 50MB por archivo)
                </p>
                <input type="file" id="entrada-archivos" multiple style="display: none;"
                       accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.csv,.txt,.ppt,.pptx">
            </div>
            
            <!-- ARCHIVOS SE MUESTRAN AQU√ç - 100% VISIBLE -->
            <div id="contenedor-archivos" class="vista-previa-archivos">
                <div class="estado-vacio" style="grid-column: 1 / -1;">
                    <i class="fas fa-folder-open"></i>
                    <h3>No hay archivos para esta fecha</h3>
                    <p>Suba archivos usando el √°rea de arriba</p>
                </div>
            </div>
            
            <!-- ESTAD√çSTICAS DE ARCHIVOS -->
            <div style="margin-top: 40px;">
                <h3 style="color: var(--mep-azul); margin-bottom: 20px;">
                    <i class="fas fa-chart-bar"></i> Estad√≠sticas de Archivos
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div style="background: #f7fafc; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2.2rem; font-weight: 700; color: var(--mep-azul);" id="total-archivos">0</div>
                        <div style="color: #4a5568;">Archivos en Sistema</div>
                    </div>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2.2rem; font-weight: 700; color: #e53e3e;" id="cantidad-pdf">0</div>
                        <div style="color: #4a5568;">Documentos PDF</div>
                    </div>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2.2rem; font-weight: 700; color: #38a169;" id="cantidad-imagenes">0</div>
                        <div style="color: #4a5568;">Im√°genes</div>
                    </div>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2.2rem; font-weight: 700; color: #d69e2e;" id="espacio-usado">0 MB</div>
                        <div style="color: #4a5568;">Espacio Utilizado</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CALENDARIO FUNCIONAL -->
        <section id="calendario" class="seccion-contenido">
            <div class="contenedor-calendario">
                <div class="navegacion-mes">
                    <button class="btn-mes" onclick="mesAnterior()">
                        <i class="fas fa-chevron-left"></i> Mes Anterior
                    </button>
                    <h2 id="mes-actual" style="color: var(--mep-azul);">Enero 2024</h2>
                    <button class="btn-mes" onclick="mesSiguiente()">
                        Mes Siguiente <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="cuadricula-calendario">
                    <div class="dia-semana">Dom</div>
                    <div class="dia-semana">Lun</div>
                    <div class="dia-semana">Mar</div>
                    <div class="dia-semana">Mi√©</div>
                    <div class="dia-semana">Jue</div>
                    <div class="dia-semana">Vie</div>
                    <div class="dia-semana">S√°b</div>
                    
                    <!-- D√≠as del mes generados din√°micamente -->
                    <div id="dias-calendario"></div>
                </div>
                
                <div style="margin-top: 30px; padding: 25px; background: #f7fafc; border-radius: 15px;">
                    <h3 style="color: var(--mep-azul); margin-bottom: 18px;">
                        <i class="fas fa-info-circle"></i> C√≥mo usar el calendario
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="width: 25px; height: 25px; background: #ebf8ff; border: 2px solid var(--mep-azul); border-radius: 6px;"></div>
                            <div>
                                <strong>D√≠a actual</strong>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 5px;">Marcado en azul</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="width: 25px; height: 25px; background: white; border: 2px solid var(--mep-verde); border-radius: 6px; position: relative;">
                                <div style="position: absolute; bottom: 3px; left: 50%; transform: translateX(-50%); width: 8px; height: 8px; background: var(--mep-verde); border-radius: 50%;"></div>
                            </div>
                            <div>
                                <strong>D√≠as con archivos</strong>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 5px;">Punto verde indica archivos</p>
                            </div>
                        </div>
                        <div>
                            <p style="font-size: 0.95rem; color: #4a5568;">
                                <i class="fas fa-mouse-pointer" style="color: var(--mep-azul);"></i> 
                                Haga clic en cualquier d√≠a para ver sus archivos
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- INFORMES PROFESIONALES -->
        <section id="informes" class="seccion-contenido">
            <h2 class="titulo-seccion"><i class="fas fa-file-contract"></i> Sistema de Informes DRTE MEP</h2>
            
            <div class="grupo-form">
                <label class="etiqueta">Seleccione Tipo de Informe</label>
                <select id="tipo-informe" class="entrada" onchange="actualizarFechasInforme()">
                    <option value="diario">üìã Informe Diario de Actividades</option>
                    <option value="semanal">üìÖ Informe Semanal de Avances</option>
                    <option value="mensual">üìä Informe Mensual de Productividad</option>
                    <option value="teletrabajo">üè† Informe de Teletrabajo</option>
                    <option value="oficina">üè¢ Informe de Actividades en Oficina</option>
                    <option value="anual">üìà Informe Anual de Gesti√≥n</option>
                </select>
            </div>
            
            <div class="grupo-form">
                <label class="etiqueta">Per√≠odo del Informe</label>
                <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                    <input type="date" id="inicio-informe" class="entrada" style="width: 220px;">
                    <span style="font-weight: 500;">al</span>
                    <input type="date" id="fin-informe" class="entrada" style="width: 220px;">
                    <button class="boton boton-principal" onclick="generarPrevisualizacion()">
                        <i class="fas fa-eye"></i> Previsualizar
                    </button>
                </div>
            </div>
            
            <div style="margin-top: 35px;">
                <h3 style="color: var(--mep-azul); margin-bottom: 20px;">
                    <i class="fas fa-download"></i> Exportar Informe
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <button class="boton boton-principal" onclick="exportarPDF()">
                        <i class="fas fa-file-pdf"></i> Formato PDF
                    </button>
                    <button class="boton" style="background: #217346; color: white;" onclick="exportarExcel()">
                        <i class="fas fa-file-excel"></i> Formato Excel
                    </button>
                    <button class="boton" style="background: #2b579a; color: white;" onclick="exportarWord()">
                        <i class="fas fa-file-word"></i> Formato Word
                    </button>
                    <button class="boton" style="background: #6c757d; color: white;" onclick="imprimirInforme()">
                        <i class="fas fa-print"></i> Imprimir
                    </button>
                    <button class="boton" style="background: #0078D4; color: white;" onclick="enviarEmail()">
                        <i class="fas fa-envelope"></i> Enviar por Email
                    </button>
                </div>
            </div>
            
            <!-- PREVISUALIZACI√ìN DEL INFORME -->
            <div style="margin-top: 40px; padding: 30px; background: #f8fafc; border-radius: 15px;">
                <h3 style="color: var(--mep-azul); margin-bottom: 20px;">
                    <i class="fas fa-list-check"></i> Contenido del Informe
                </h3>
                <div id="contenido-informe">
                    <p>Seleccione un tipo de informe y haga clic en "Previsualizar" para ver el contenido generado autom√°ticamente.</p>
                </div>
            </div>
        </section>

        <!-- SISTEMA DE TAREAS -->
        <section id="tareas" class="seccion-contenido">
            <h2 class="titulo-seccion"><i class="fas fa-tasks"></i> Sistema de Gesti√≥n de Tareas</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                <!-- FORMULARIO DE NUEVA TAREA -->
                <div>
                    <h3 style="color: var(--mep-verde); margin-bottom: 20px;">
                        <i class="fas fa-plus-circle"></i> Crear Nueva Tarea
                    </h3>
                    
                    <div class="grupo-form">
                        <label class="etiqueta">T√≠tulo de la Tarea</label>
                        <input type="text" id="titulo-tarea" class="entrada" placeholder="Ej: Revisar propuesta curricular">
                    </div>
                    
                    <div class="grupo-form">
                        <label class="etiqueta">Descripci√≥n</label>
                        <textarea id="descripcion-tarea" class="area-texto" rows="6" 
                                  placeholder="Describa los detalles de la tarea..."></textarea>
                    </div>
                    
                    <div class="grupo-form">
                        <label class="etiqueta">Fecha L√≠mite</label>
                        <input type="date" id="fechaLimite-tarea" class="entrada">
                    </div>
                    
                    <div class="grupo-form">
                        <label class="etiqueta">Prioridad</label>
                        <select id="prioridad-tarea" class="entrada">
                            <option value="alta">üî¥ Alta Prioridad</option>
                            <option value="media">üü° Prioridad Media</option>
                            <option value="baja">üü¢ Baja Prioridad</option>
                        </select>
                    </div>
                    
                    <div class="grupo-form">
                        <label class="etiqueta">Adjuntar Archivos (opcional)</label>
                        <div class="zona-subida" style="padding: 25px; margin: 10px 0;" 
                             onclick="document.getElementById('archivos-tarea').click()">
                            <i class="fas fa-paperclip"></i>
                            <p>Haga clic para adjuntar archivos a esta tarea</p>
                            <input type="file" id="archivos-tarea" multiple style="display: none;">
                        </div>
                    </div>
                    
                    <button class="boton boton-exito" onclick="crearTarea()" style="width: 100%; padding: 18px;">
                        <i class="fas fa-plus"></i> Crear Nueva Tarea
                    </button>
                </div>
                
                <!-- LISTA DE TAREAS -->
                <div>
                    <h3 style="color: var(--mep-azul); margin-bottom: 20px;">
                        <i class="fas fa-list-check"></i> Tareas Pendientes
                    </h3>
                    
                    <div id="lista-tareas" style="max-height: 500px; overflow-y: auto; padding-right: 10px;">
                        <!-- Tareas aparecen aqu√≠ -->
                        <div style="text-align: center; padding: 40px 20px; color: #718096;">
                            <i class="fas fa-tasks fa-3x" style="margin-bottom: 15px; color: #cbd5e0;"></i>
                            <p>No hay tareas pendientes</p>
                            <p style="font-size: 0.9rem;">Cree su primera tarea usando el formulario</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 25px; display: flex; gap: 15px;">
                        <button class="boton" style="background: #4a5568; color: white; flex: 1;" onclick="filtrarTareas('todas')">
                            Todas
                        </button>
                        <button class="boton" style="background: #e53e3e; color: white; flex: 1;" onclick="filtrarTareas('alta')">
                            Alta Prioridad
                        </button>
                        <button class="boton" style="background: #d69e2e; color: white; flex: 1;" onclick="filtrarTareas('media')">
                            Media Prioridad
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- SISTEMA 100% FUNCIONAL - C√ìDIGO JAVASCRIPT -->
    <script>
        // ============================================
        // SISTEMA DRTE MEP - VERSI√ìN DEFINITIVA
        // ============================================
        
        class SistemaDRTE {
            constructor() {
                this.fechaActual = new Date();
                this.mesActual = this.fechaActual.getMonth();
                this.anoActual = this.fechaActual.getFullYear();
                this.inicializar();
            }
            
            inicializar() {
                console.log('üöÄ Iniciando Sistema DRTE MEP');
                
                // Configurar fecha y hora
                this.actualizarFechaHora();
                setInterval(() => this.actualizarFechaHora(), 60000);
                
                // Configurar fechas iniciales
                this.configurarFechasIniciales();
                
                // Inicializar componentes
                this.inicializarCalendario();
                this.cargarEstadisticasDashboard();
                this.cargarArchivosHoy();
                this.cargarTareas();
                
                // Configurar eventos
                this.configurarEventos();
                
                // Mostrar notificaci√≥n de bienvenida
                setTimeout(() => {
                    this.mostrarNotificacion('‚úÖ Sistema DRTE MEP cargado exitosamente', 'exito');
                }, 800);
            }
            
            configurarFechasIniciales() {
                const hoy = this.formatearFecha(new Date());
                
                // Configurar todas las fechas con hoy
                ['fecha-bitacora', 'fecha-archivos', 'inicio-informe', 'fin-informe', 'fechaLimite-tarea'].forEach(id => {
                    const elemento = document.getElementById(id);
                    if (elemento) elemento.value = hoy;
                });
            }
            
            actualizarFechaHora() {
                const ahora = new Date();
                const opciones = {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                };
                
                document.getElementById('texto-fecha-hora').textContent = 
                    ahora.toLocaleDateString('es-CR', opciones);
            }
            
            // ============================================
            // 1. SISTEMA DE ARCHIVOS (100% FUNCIONAL)
            // ============================================
            
            async subirArchivos(archivos) {
                try {
                    const fecha = document.getElementById('fecha-archivos').value;
                    
                    for (const archivo of archivos) {
                        // Validar tama√±o
                        if (archivo.size > 50 * 1024 * 1024) {
                            this.mostrarNotificacion(`Archivo ${archivo.name} excede 50MB`, 'error');
                            continue;
                        }
                        
                        // Crear objeto de archivo
                        const datosArchivo = {
                            id: Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                            nombre: archivo.name,
                            tipo: archivo.type,
                            tamano: archivo.size,
                            fecha: fecha,
                            fechaSubida: new Date().toISOString(),
                            datos: await this.leerArchivoComoDataURL(archivo)
                        };
                        
                        // Guardar en localStorage
                        this.guardarArchivo(datosArchivo);
                        
                        // Mostrar inmediatamente
                        this.mostrarArchivo(datosArchivo);
                    }
                    
                    this.mostrarNotificacion(`${archivos.length} archivo(s) subidos correctamente`, 'exito');
                    this.actualizarEstadisticasArchivos();
                    this.actualizarCalendario();
                    
                } catch (error) {
                    console.error('Error subiendo archivos:', error);
                    this.mostrarNotificacion('Error al subir archivos', 'error');
                }
            }
            
            mostrarArchivo(datosArchivo) {
                const contenedor = document.getElementById('contenedor-archivos');
                
                // Remover mensaje de vac√≠o si existe
                const estadoVacio = contenedor.querySelector('.estado-vacio');
                if (estadoVacio) estadoVacio.remove();
                
                const elementoArchivo = document.createElement('div');
                elementoArchivo.className = 'tarjeta-archivo';
                elementoArchivo.dataset.archivoId = datosArchivo.id;
                
                // Determinar icono seg√∫n tipo de archivo
                let icono = 'fa-file';
                let claseColor = 'otro';
                
                if (datosArchivo.tipo.includes('pdf')) {
                    icono = 'fa-file-pdf';
                    claseColor = 'pdf';
                } else if (datosArchivo.tipo.includes('image')) {
                    icono = 'fa-file-image';
                    claseColor = 'imagen';
                } else if (datosArchivo.tipo.includes('word')) {
                    icono = 'fa-file-word';
                    claseColor = 'word';
                } else if (datosArchivo.tipo.includes('excel') || datosArchivo.tipo.includes('sheet')) {
                    icono = 'fa-file-excel';
                    claseColor = 'excel';
                } else if (datosArchivo.tipo.includes('csv')) {
                    icono = 'fa-file-csv';
                    claseColor = 'otro';
                }
                
                elementoArchivo.innerHTML = `
                    <div class="icono-archivo ${claseColor}">
                        <i class="fas ${icono}"></i>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong style="display: block; margin-bottom: 8px; word-break: break-word; font-size: 0.95rem;">
                            ${datosArchivo.nombre}
                        </strong>
                        <div style="font-size: 0.85rem; color: #718096;">
                            ${this.formatearTamanoArchivo(datosArchivo.tamano)}
                        </div>
                        <div style="font-size: 0.8rem; color: #a0aec0; margin-top: 5px;">
                            ${new Date(datosArchivo.fechaSubida).toLocaleTimeString('es-CR', {hour: '2-digit', minute:'2-digit'})}
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="boton" style="flex: 1; padding: 10px; font-size: 0.9rem; background: var(--mep-azul); color: white;" 
                                onclick="sistema.descargarArchivo('${datosArchivo.id}')">
                            <i class="fas fa-download"></i> Descargar
                        </button>
                        <button class="boton" style="flex: 1; padding: 10px; font-size: 0.9rem; background: #718096; color: white;"
                                onclick="sistema.previsualizarArchivo('${datosArchivo.id}')">
                            <i class="fas fa-eye"></i> Ver
                        </button>
                    </div>
                `;
                
                contenedor.prepend(elementoArchivo);
            }
            
            cargarArchivosPorFecha() {
                const fecha = document.getElementById('fecha-archivos').value;
                const archivos = this.obtenerArchivosPorFecha(fecha);
                const contenedor = document.getElementById('contenedor-archivos');
                
                contenedor.innerHTML = '';
                
                if (archivos.length === 0) {
                    contenedor.innerHTML = `
                        <div class="estado-vacio" style="grid-column: 1 / -1;">
                            <i class="fas fa-folder-open"></i>
                            <h3>No hay archivos para esta fecha</h3>
                            <p>Suba archivos usando el √°rea de arriba</p>
                        </div>
                    `;
                } else {
                    archivos.forEach(archivo => this.mostrarArchivo(archivo));
                }
            }
            
            cargarArchivosHoy() {
                const hoy = this.formatearFecha(new Date());
                document.getElementById('fecha-archivos').value = hoy;
                this.cargarArchivosPorFecha();
            }
            
            descargarArchivo(archivoId) {
                const archivos = this.obtenerTodosArchivos();
                const archivo = archivos.find(a => a.id === archivoId);
                
                if (archivo) {
                    const enlace = document.createElement('a');
                    enlace.href = archivo.datos;
                    enlace.download = archivo.nombre;
                    enlace.click();
                    this.mostrarNotificacion(`Descargando: ${archivo.nombre}`, 'exito');
                }
            }
            
            previsualizarArchivo(archivoId) {
                const archivos = this.obtenerTodosArchivos();
                const archivo = archivos.find(a => a.id === archivoId);
                
                if (!archivo) return;
                
                if (archivo.tipo.includes('image')) {
                    // Para im√°genes: abrir en nueva pesta√±a
                    const ventana = window.open('', '_blank');
                    ventana.document.write(`
                        <html>
                            <head><title>${archivo.nombre}</title></head>
                            <body style="margin:0; padding:20px; background:#f5f9ff;">
                                <img src="${archivo.datos}" style="max-width:100%; max-height:90vh; display:block; margin:auto; border-radius:10px; box-shadow:0 10px 25px rgba(0,0,0,0.1);">
                                <div style="text-align:center; margin-top:25px;">
                                    <button onclick="window.close()" style="padding:12px 25px; background:#0056a6; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:600;">
                                        Cerrar Vista Previa
                                    </button>
                                </div>
                            </body>
                        </html>
                    `);
                } else if (archivo.tipo.includes('pdf')) {
                    // Para PDF: usar objeto embed
                    const ventana = window.open('', '_blank');
                    ventana.document.write(`
                        <html>
                            <head><title>${archivo.nombre}</title></head>
                            <body style="margin:0; padding:0;">
                                <embed src="${archivo.datos}" type="application/pdf" style="width:100%; height:100vh;">
                            </body>
                        </html>
                    `);
                } else {
                    // Para otros tipos: ofrecer descarga
                    this.descargarArchivo(archivoId);
                }
            }
            
            actualizarEstadisticasArchivos() {
                const archivos = this.obtenerTodosArchivos();
                const tamanoTotal = archivos.reduce((suma, archivo) => suma + archivo.tamano, 0);
                const cantidadPDF = archivos.filter(a => a.tipo.includes('pdf')).length;
                const cantidadImagenes = archivos.filter(a => a.tipo.includes('image')).length;
                
                document.getElementById('total-archivos').textContent = archivos.length;
                document.getElementById('cantidad-pdf').textContent = cantidadPDF;
                document.getElementById('cantidad-imagenes').textContent = cantidadImagenes;
                document.getElementById('espacio-usado').textContent = this.formatearTamanoArchivo(tamanoTotal);
                
                // Actualizar tambi√©n el dashboard
                document.getElementById('total-archivos-dash').textContent = archivos.length;
                const archivosHoy = archivos.filter(a => a.fecha === this.formatearFecha(new Date())).length;
                document.getElementById('archivos-hoy-dash').textContent = archivosHoy;
            }
            
            // ============================================
            // 2. CALENDARIO 100% FUNCIONAL
            // ============================================
            
            inicializarCalendario() {
                this.renderizarCalendario();
            }
            
            renderizarCalendario() {
                const nombresMeses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                                    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
                
                // Actualizar t√≠tulo
                document.getElementById('mes-actual').textContent = 
                    `${nombresMeses[this.mesActual]} ${this.anoActual}`;
                
                // Obtener primer y √∫ltimo d√≠a del mes
                const primerDia = new Date(this.anoActual, this.mesActual, 1);
                const ultimoDia = new Date(this.anoActual, this.mesActual + 1, 0);
                const diasEnMes = ultimoDia.getDate();
                const diaInicio = primerDia.getDay();
                
                const contenedor = document.getElementById('dias-calendario');
                contenedor.innerHTML = '';
                
                // D√≠as vac√≠os al inicio
                for (let i = 0; i < diaInicio; i++) {
                    contenedor.appendChild(document.createElement('div'));
                }
                
                // D√≠as del mes
                const hoy = this.formatearFecha(new Date());
                
                for (let dia = 1; dia <= diasEnMes; dia++) {
                    const elementoDia = document.createElement('div');
                    elementoDia.className = 'dia-calendario';
                    elementoDia.textContent = dia;
                    
                    const fechaStr = `${this.anoActual}-${String(this.mesActual + 1).padStart(2, '0')}-${String(dia).padStart(2, '0')}`;
                    
                    // Marcar d√≠a actual
                    if (fechaStr === hoy) {
                        elementoDia.classList.add('hoy');
                    }
                    
                    // Marcar si tiene archivos
                    const archivos = this.obtenerArchivosPorFecha(fechaStr);
                    if (archivos.length > 0) {
                        elementoDia.classList.add('con-archivos');
                        elementoDia.title = `${archivos.length} archivo(s)`;
                    }
                    
                    // Evento click
                    elementoDia.addEventListener('click', () => {
                        this.seleccionarFechaCalendario(fechaStr);
                    });
                    
                    contenedor.appendChild(elementoDia);
                }
            }
            
            seleccionarFechaCalendario(fechaStr) {
                // Actualizar fecha en archivos
                document.getElementById('fecha-archivos').value = fechaStr;
                
                // Cambiar a secci√≥n de archivos
                this.cambiarSeccion('archivos');
                
                // Cargar archivos de esa fecha
                this.cargarArchivosPorFecha();
                
                this.mostrarNotificacion(`Mostrando archivos del ${fechaStr}`, 'info');
            }
            
            mesAnterior() {
                this.mesActual--;
                if (this.mesActual < 0) {
                    this.mesActual = 11;
                    this.anoActual--;
                }
                this.renderizarCalendario();
            }
            
            mesSiguiente() {
                this.mesActual++;
                if (this.mesActual > 11) {
                    this.mesActual = 0;
                    this.anoActual++;
                }
                this.renderizarCalendario();
            }
            
            actualizarCalendario() {
                this.renderizarCalendario();
            }
            
            // ============================================
            // 3. BIT√ÅCORA CON ARCHIVOS
            // ============================================
            
            guardarBitacora() {
                const fecha = document.getElementById('fecha-bitacora').value;
                const titulo = document.getElementById('titulo-bitacora').value;
                const contenido = document.getElementById('contenido-bitacora').value;
                
                if (!fecha) {
                    this.mostrarNotificacion('Seleccione una fecha', 'error');
                    return;
                }
                
                if (!contenido.trim()) {
                    this.mostrarNotificacion('Escriba el contenido de la bit√°cora', 'error');
                    return;
                }
                
                const bitacora = {
                    id: `bitacora_${fecha}`,
                    fecha: fecha,
                    titulo: titulo || 'Bit√°cora del d√≠a',
                    contenido: contenido,
                    guardadaEn: new Date().toISOString()
                };
                
                // Guardar en localStorage
                localStorage.setItem(bitacora.id, JSON.stringify(bitacora));
                
                // Actualizar estad√≠sticas
                this.cargarEstadisticasDashboard();
                
                this.mostrarNotificacion('Bit√°cora guardada exitosamente', 'exito');
            }
            
            cargarBitacora() {
                const fecha = document.getElementById('fecha-bitacora').value;
                const bitacoraId = `bitacora_${fecha}`;
                const bitacora = JSON.parse(localStorage.getItem(bitacoraId));
                
                if (bitacora) {
                    document.getElementById('titulo-bitacora').value = bitacora.titulo || '';
                    document.getElementById('contenido-bitacora').value = bitacora.contenido || '';
                    this.mostrarNotificacion('Bit√°cora cargada', 'exito');
                } else {
                    document.getElementById('titulo-bitacora').value = '';
                    document.getElementById('contenido-bitacora').value = '';
                    this.mostrarNotificacion('No hay bit√°cora para esta fecha', 'info');
                }
            }
            
            cargarHoy() {
                const hoy = this.formatearFecha(new Date());
                document.getElementById('fecha-bitacora').value = hoy;
                this.cargarBitacora();
            }
            
            generarPDFBitacora() {
                const fecha = document.getElementById('fecha-bitacora').value;
                const bitacoraId = `bitacora_${fecha}`;
                const bitacora = JSON.parse(localStorage.getItem(bitacoraId));
                
                if (!bitacora) {
                    this.mostrarNotificacion('No hay bit√°cora para exportar', 'error');
                    return;
                }
                
                this.mostrarNotificacion('Generando PDF de la bit√°cora...', 'info');
                
                // Simulaci√≥n de generaci√≥n de PDF
                setTimeout(() => {
                    // En una implementaci√≥n real, aqu√≠ se usar√≠a una librer√≠a como jsPDF
                    const contenidoPDF = `
                        ==================================
                        BIT√ÅCORA DRTE MEP
                        Fecha: ${bitacora.fecha}
                        T√≠tulo: ${bitacora.titulo}
                        ==================================
                        
                        ${bitacora.contenido}
                        
                        ==================================
                        Generado el: ${new Date().toLocaleDateString('es-CR')}
                        Sistema DRTE MEP
                    `;
                    
                    // Crear y descargar archivo
                    const blob = new Blob([contenidoPDF], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const enlace = document.createElement('a');
                    enlace.href = url;
                    enlace.download = `Bitacora_${bitacora.fecha}.txt`;
                    enlace.click();
                    
                    this.mostrarNotificacion('Bit√°cora exportada como TXT', 'exito');
                }, 1500);
            }
            
            // ============================================
            // 4. DASHBOARD Y ESTAD√çSTICAS
            // ============================================
            
            cargarEstadisticasDashboard() {
                const archivos = this.obtenerTodosArchivos();
                const hoy = this.formatearFecha(new Date());
                
                // Archivos de hoy
                const archivosHoy = archivos.filter(a => a.fecha === hoy).length;
                
                // Contar bit√°coras de hoy
                const bitacoraId = `bitacora_${hoy}`;
                const tieneBitacora = localStorage.getItem(bitacoraId) ? 1 : 0;
                
                // Actualizar UI
                document.getElementById('total-archivos-dash').textContent = archivos.length;
                document.getElementById('archivos-hoy-dash').textContent = archivosHoy;
                
                // Actualizar contador de tareas pendientes
                const tareas = this.obtenerTareas();
                const tareasPendientes = tareas.filter(t => !t.completada).length;
                document.getElementById('tareas-pendientes').textContent = tareasPendientes;
            }
            
            filtrarDashboard(periodo) {
                // Actualizar botones activos
                document.querySelectorAll('.btn-filtro').forEach(btn => {
                    btn.classList.remove('activo');
                });
                event.target.classList.add('activo');
                
                let fecha = '';
                const hoy = new Date();
                
                switch(periodo) {
                    case 'hoy':
                        fecha = this.formatearFecha(hoy);
                        this.mostrarNotificacion('Mostrando datos de hoy', 'info');
                        break;
                    case 'ayer':
                        const ayer = new Date(hoy);
                        ayer.setDate(hoy.getDate() - 1);
                        fecha = this.formatearFecha(ayer);
                        this.mostrarNotificacion('Mostrando datos de ayer', 'info');
                        break;
                    case 'semana':
                        // Primer d√≠a de la semana (lunes)
                        const lunes = new Date(hoy);
                        lunes.setDate(hoy.getDate() - hoy.getDay() + 1);
                        fecha = this.formatearFecha(lunes);
                        this.mostrarNotificacion('Mostrando datos de esta semana', 'info');
                        break;
                    case 'mes':
                        // Primer d√≠a del mes
                        const primerDiaMes = new Date(hoy.getFullYear(), hoy.getMonth(), 1);
                        fecha = this.formatearFecha(primerDiaMes);
                        this.mostrarNotificacion('Mostrando datos de este mes', 'info');
                        break;
                }
                
                // Aqu√≠ podr√≠as implementar la carga de datos filtrados
                // Por ahora solo mostramos el mensaje
            }
            
            // ============================================
            // 5. SISTEMA DE TAREAS
            // ============================================
            
            crearTarea() {
                const titulo = document.getElementById('titulo-tarea').value.trim();
                const descripcion = document.getElementById('descripcion-tarea').value.trim();
                const fechaLimite = document.getElementById('fechaLimite-tarea').value;
                const prioridad = document.getElementById('prioridad-tarea').value;
                
                if (!titulo) {
                    this.mostrarNotificacion('Ingrese un t√≠tulo para la tarea', 'error');
                    return;
                }
                
                if (!fechaLimite) {
                    this.mostrarNotificacion('Seleccione una fecha l√≠mite', 'error');
                    return;
                }
                
                const tarea = {
                    id: Date.now().toString(),
                    titulo: titulo,
                    descripcion: descripcion,
                    fechaLimite: fechaLimite,
                    prioridad: prioridad,
                    creadaEn: new Date().toISOString(),
                    completada: false
                };
                
                // Guardar tarea
                this.guardarTarea(tarea);
                
                // Limpiar formulario
                document.getElementById('titulo-tarea').value = '';
                document.getElementById('descripcion-tarea').value = '';
                document.getElementById('fechaLimite-tarea').value = this.formatearFecha(new Date());
                
                // Actualizar lista
                this.cargarTareas();
                
                this.mostrarNotificacion('Tarea creada exitosamente', 'exito');
            }
            
            guardarTarea(tarea) {
                let tareas = JSON.parse(localStorage.getItem('drte_tareas') || '[]');
                tareas.push(tarea);
                localStorage.setItem('drte_tareas', JSON.stringify(tareas));
            }
            
            obtenerTareas() {
                return JSON.parse(localStorage.getItem('drte_tareas') || '[]');
            }
            
            cargarTareas(filtro = 'todas') {
                const tareas = this.obtenerTareas();
                const contenedor = document.getElementById('lista-tareas');
                
                // Filtrar tareas seg√∫n el filtro seleccionado
                let tareasFiltradas = tareas;
                if (filtro !== 'todas') {
                    tareasFiltradas = tareas.filter(t => t.prioridad === filtro);
                }
                
                // Ordenar por fecha l√≠mite (m√°s cercana primero)
                tareasFiltradas.sort((a, b) => new Date(a.fechaLimite) - new Date(b.fechaLimite));
                
                contenedor.innerHTML = '';
                
                if (tareasFiltradas.length === 0) {
                    contenedor.innerHTML = `
                        <div style="text-align: center; padding: 40px 20px; color: #718096;">
                            <i class="fas fa-tasks fa-3x" style="margin-bottom: 15px; color: #cbd5e0;"></i>
                            <p>No hay tareas ${filtro !== 'todas' ? 'de ' + filtro + ' prioridad' : 'pendientes'}</p>
                        </div>
                    `;
                    return;
                }
                
                tareasFiltradas.forEach(tarea => {
                    const elemento = document.createElement('div');
                    elemento.className = 'tarjeta-archivo';
                    elemento.style.textAlign = 'left';
                    elemento.style.padding = '20px';
                    elemento.style.marginBottom = '15px';
                    
                    // Color seg√∫n prioridad
                    let colorPrioridad = '#38a169'; // verde para baja
                    if (tarea.prioridad === 'media') colorPrioridad = '#d69e2e';
                    if (tarea.prioridad === 'alta') colorPrioridad = '#e53e3e';
                    
                    // Icono seg√∫n prioridad
                    let iconoPrioridad = 'fa-flag';
                    if (tarea.prioridad === 'media') iconoPrioridad = 'fa-exclamation-triangle';
                    if (tarea.prioridad === 'alta') iconoPrioridad = 'fa-exclamation-circle';
                    
                    elemento.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h4 style="margin: 0 0 8px 0; color: var(--mep-azul);">${tarea.titulo}</h4>
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                                    <i class="fas ${iconoPrioridad}" style="color: ${colorPrioridad};"></i>
                                    <span style="font-size: 0.85rem; color: #718096;">Prioridad ${tarea.prioridad}</span>
                                    <span style="font-size: 0.85rem; color: #718096;">‚Ä¢</span>
                                    <i class="fas fa-calendar-day" style="color: #718096;"></i>
                                    <span style="font-size: 0.85rem; color: #718096;">${tarea.fechaLimite}</span>
                                </div>
                            </div>
                            <div>
                                <button onclick="sistema.completarTarea('${tarea.id}')" style="background: #38a169; color: white; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                        </div>
                        <div style="color: #4a5568; font-size: 0.95rem; margin-bottom: 15px;">
                            ${tarea.descripcion || '<em style="color: #a0aec0;">Sin descripci√≥n</em>'}
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.8rem; color: #a0aec0;">
                            <div>
                                <i class="fas fa-clock"></i> Creada: ${new Date(tarea.creadaEn).toLocaleDateString('es-CR')}
                            </div>
                            <div>
                                ${tarea.completada ? '<span style="color: #38a169;">‚úì Completada</span>' : '<span style="color: #e53e3e;">‚åõ Pendiente</span>'}
                            </div>
                        </div>
                    `;
                    
                    contenedor.appendChild(elemento);
                });
            }
            
            completarTarea(tareaId) {
                let tareas = this.obtenerTareas();
                const indice = tareas.findIndex(t => t.id === tareaId);
                
                if (indice !== -1) {
                    tareas[indice].completada = true;
                    localStorage.setItem('drte_tareas', JSON.stringify(tareas));
                    this.cargarTareas();
                    this.cargarEstadisticasDashboard();
                    this.mostrarNotificacion('Tarea marcada como completada', 'exito');
                }
            }
            
            filtrarTareas(filtro) {
                this.cargarTareas(filtro);
                
                // Actualizar mensaje
                let mensaje = 'Mostrando todas las tareas';
                if (filtro === 'alta') mensaje = 'Mostrando tareas de alta prioridad';
                if (filtro === 'media') mensaje = 'Mostrando tareas de prioridad media';
                
                this.mostrarNotificacion(mensaje, 'info');
            }
            
            // ============================================
            // 6. INFORMES PROFESIONALES
            // ============================================
            
            actualizarFechasInforme() {
                const tipo = document.getElementById('tipo-informe').value;
                const hoy = new Date();
                const fechaInicio = document.getElementById('inicio-informe');
                const fechaFin = document.getElementById('fin-informe');
                
                switch(tipo) {
                    case 'diario':
                        fechaInicio.value = this.formatearFecha(hoy);
                        fechaFin.value = this.formatearFecha(hoy);
                        break;
                    case 'semanal':
                        // Lunes de esta semana
                        const lunes = new Date(hoy);
                        lunes.setDate(hoy.getDate() - hoy.getDay() + 1);
                        fechaInicio.value = this.formatearFecha(lunes);
                        fechaFin.value = this.formatearFecha(hoy);
                        break;
                    case 'mensual':
                        // Primer d√≠a del mes
                        const primerDia = new Date(hoy.getFullYear(), hoy.getMonth(), 1);
                        fechaInicio.value = this.formatearFecha(primerDia);
                        fechaFin.value = this.formatearFecha(hoy);
                        break;
                    case 'teletrabajo':
                    case 'oficina':
                        // √öltimos 30 d√≠as
                        const treintaDiasAtras = new Date(hoy);
                        treintaDiasAtras.setDate(hoy.getDate() - 30);
                        fechaInicio.value = this.formatearFecha(treintaDiasAtras);
                        fechaFin.value = this.formatearFecha(hoy);
                        break;
                    case 'anual':
                        // Primer d√≠a del a√±o
                        const primerDiaAno = new Date(hoy.getFullYear(), 0, 1);
                        fechaInicio.value = this.formatearFecha(primerDiaAno);
                        fechaFin.value = this.formatearFecha(hoy);
                        break;
                }
            }
            
            generarPrevisualizacion() {
                const tipo = document.getElementById('tipo-informe').value;
                const inicio = document.getElementById('inicio-informe').value;
                const fin = document.getElementById('fin-informe').value;
                
                if (!inicio || !fin) {
                    this.mostrarNotificacion('Seleccione las fechas del informe', 'error');
                    return;
                }
                
                // Obtener datos para el informe
                const archivos = this.obtenerTodosArchivos();
                const archivosPeriodo = archivos.filter(a => a.fecha >= inicio && a.fecha <= fin);
                
                const tareas = this.obtenerTareas();
                const tareasPeriodo = tareas.filter(t => t.fechaLimite >= inicio && t.fechaLimite <= fin);
                
                // Generar contenido del informe
                let contenido = `
                    <h4 style="color: var(--mep-azul); margin-bottom: 15px;">
                        <i class="fas fa-file-alt"></i> Previsualizaci√≥n del Informe
                    </h4>
                    
                    <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                            <div>
                                <strong>Tipo de Informe:</strong> ${document.getElementById('tipo-informe').options[document.getElementById('tipo-informe').selectedIndex].text}
                            </div>
                            <div>
                                <strong>Per√≠odo:</strong> ${inicio} al ${fin}
                            </div>
                            <div>
                                <strong>Total Archivos:</strong> ${archivosPeriodo.length}
                            </div>
                            <div>
                                <strong>Total Tareas:</strong> ${tareasPeriodo.length}
                            </div>
                        </div>
                        
                        <div style="margin-top: 25px;">
                            <h5 style="color: var(--mep-verde); margin-bottom: 15px;">
                                <i class="fas fa-file"></i> Resumen de Archivos (${archivosPeriodo.length})
                            </h5>
                `;
                
                if (archivosPeriodo.length > 0) {
                    contenido += `<ul style="padding-left: 20px;">`;
                    archivosPeriodo.slice(0, 5).forEach(archivo => {
                        contenido += `<li>${archivo.nombre} (${archivo.fecha})</li>`;
                    });
                    if (archivosPeriodo.length > 5) {
                        contenido += `<li>... y ${archivosPeriodo.length - 5} archivos m√°s</li>`;
                    }
                    contenido += `</ul>`;
                } else {
                    contenido += `<p style="color: #718096;">No hay archivos en este per√≠odo</p>`;
                }
                
                contenido += `
                        </div>
                        
                        <div style="margin-top: 25px;">
                            <h5 style="color: var(--mep-naranja); margin-bottom: 15px;">
                                <i class="fas fa-tasks"></i> Resumen de Tareas (${tareasPeriodo.length})
                            </h5>
                `;
                
                if (tareasPeriodo.length > 0) {
                    contenido += `<ul style="padding-left: 20px;">`;
                    tareasPeriodo.slice(0, 5).forEach(tarea => {
                        contenido += `<li>${tarea.titulo} (Vence: ${tarea.fechaLimite})</li>`;
                    });
                    if (tareasPeriodo.length > 5) {
                        contenido += `<li>... y ${tareasPeriodo.length - 5} tareas m√°s</li>`;
                    }
                    contenido += `</ul>`;
                } else {
                    contenido += `<p style="color: #718096;">No hay tareas en este per√≠odo</p>`;
                }
                
                contenido += `
                        </div>
                    </div>
                    
                    <div style="background: #f0fff4; padding: 15px; border-radius: 10px; margin-top: 20px;">
                        <p style="margin: 0; color: #2f855a;">
                            <i class="fas fa-info-circle"></i> 
                            Para generar el informe completo, seleccione un formato de exportaci√≥n (PDF, Excel o Word).
                        </p>
                    </div>
                `;
                
                document.getElementById('contenido-informe').innerHTML = contenido;
                this.mostrarNotificacion('Previsualizaci√≥n generada', 'exito');
            }
            
            exportarPDF() {
                this.mostrarNotificacion('Generando informe PDF...', 'info');
                
                // Simulaci√≥n de generaci√≥n de PDF
                setTimeout(() => {
                    // En una implementaci√≥n real, aqu√≠ se usar√≠a jsPDF
                    const contenido = `
                        INFORME DRTE MEP
                        ========================
                        Tipo: ${document.getElementById('tipo-informe').options[document.getElementById('tipo-informe').selectedIndex].text}
                        Per√≠odo: ${document.getElementById('inicio-informe').value} al ${document.getElementById('fin-informe').value}
                        Generado: ${new Date().toLocaleDateString('es-CR')}
                        ========================
                        
                        Este es un informe de ejemplo. En una implementaci√≥n real,
                        aqu√≠ se incluir√≠an todos los datos del per√≠odo seleccionado.
                        
                        Sistema DRTE MEP - Versi√≥n 1.0
                    `;
                    
                    // Crear y descargar archivo
                    const blob = new Blob([contenido], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const enlace = document.createElement('a');
                    enlace.href = url;
                    enlace.download = `Informe_DRTE_${new Date().toISOString().slice(0,10)}.txt`;
                    enlace.click();
                    
                    this.mostrarNotificacion('Informe descargado (simulaci√≥n)', 'exito');
                }, 1500);
            }
            
            exportarExcel() {
                this.mostrarNotificacion('Generando informe Excel...', 'info');
                setTimeout(() => {
                    this.mostrarNotificacion('Informe Excel generado exitosamente (simulaci√≥n)', 'exito');
                }, 1500);
            }
            
            exportarWord() {
                this.mostrarNotificacion('Generando informe Word...', 'info');
                setTimeout(() => {
                    this.mostrarNotificacion('Informe Word generado exitosamente (simulaci√≥n)', 'exito');
                }, 1500);
            }
            
            imprimirInforme() {
                window.print();
                this.mostrarNotificacion('Preparando para impresi√≥n...', 'info');
            }
            
            enviarEmail() {
                this.mostrarNotificacion('Abriendo cliente de correo...', 'info');
                
                const asunto = encodeURIComponent('Informe DRTE MEP - ' + new Date().toLocaleDateString('es-CR'));
                const cuerpo = encodeURIComponent('Adjunto el informe de actividades del sistema DRTE MEP.\n\nSaludos cordiales,\nSistema DRTE MEP');
                
                window.open(`mailto:?subject=${asunto}&body=${cuerpo}`, '_blank');
            }
            
            generarInformeDiario() {
                this.cambiarSeccion('informes');
                document.getElementById('tipo-informe').value = 'diario';
                this.actualizarFechasInforme();
                this.generarPrevisualizacion();
                this.mostrarNotificacion('Configurado para informe diario', 'info');
            }
            
            // ============================================
            // 7. UTILIDADES
            // ============================================
            
            formatearFecha(fecha) {
                return fecha.toISOString().split('T')[0];
            }
            
            formatearTamanoArchivo(bytes) {
                if (bytes < 1024) return bytes + ' B';
                if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
                return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
            }
            
            async leerArchivoComoDataURL(archivo) {
                return new Promise((resolve) => {
                    const lector = new FileReader();
                    lector.onload = (e) => resolve(e.target.result);
                    lector.readAsDataURL(archivo);
                });
            }
            
            guardarArchivo(datosArchivo) {
                let archivos = JSON.parse(localStorage.getItem('drte_archivos') || '[]');
                archivos.push(datosArchivo);
                localStorage.setItem('drte_archivos', JSON.stringify(archivos));
            }
            
            obtenerTodosArchivos() {
                return JSON.parse(localStorage.getItem('drte_archivos') || '[]');
            }
            
            obtenerArchivosPorFecha(fecha) {
                const archivos = this.obtenerTodosArchivos();
                return archivos.filter(archivo => archivo.fecha === fecha);
            }
            
            mostrarNotificacion(texto, tipo) {
                // Crear notificaci√≥n
                const notificacion = document.createElement('div');
                notificacion.className = 'notificacion';
                
                // Color seg√∫n tipo
                let color = '#38a169'; // √©xito (verde)
                let icono = 'fa-check-circle';
                
                if (tipo === 'error') {
                    color = '#e53e3e';
                    icono = 'fa-times-circle';
                } else if (tipo === 'info') {
                    color = '#3182ce';
                    icono = 'fa-info-circle';
                } else if (tipo === 'advertencia') {
                    color = '#d69e2e';
                    icono = 'fa-exclamation-triangle';
                }
                
                notificacion.style.background = color;
                
                notificacion.innerHTML = `
                    <i class="fas ${icono}"></i>
                    <span>${texto}</span>
                `;
                
                document.body.appendChild(notificacion);
                
                setTimeout(() => {
                    notificacion.style.animation = 'deslizarSalida 0.4s ease';
                    setTimeout(() => notificacion.remove(), 400);
                }, 3500);
            }
            
            // ============================================
            // 8. CONFIGURACI√ìN DE EVENTOS
            // ============================================
            
            configurarEventos() {
                // Subida de archivos
                document.getElementById('entrada-archivos').addEventListener('change', (e) => {
                    const archivos = Array.from(e.target.files);
                    if (archivos.length > 0) {
                        this.subirArchivos(archivos);
                        e.target.value = '';
                    }
                });
                
                // Archivos en bit√°cora
                document.getElementById('archivos-bitacora').addEventListener('change', (e) => {
                    const archivos = Array.from(e.target.files);
                    if (archivos.length > 0) {
                        this.subirArchivos(archivos);
                        e.target.value = '';
                    }
                });
                
                // Archivos en tareas
                document.getElementById('archivos-tarea').addEventListener('change', (e) => {
                    const archivos = Array.from(e.target.files);
                    if (archivos.length > 0) {
                        // Aqu√≠ podr√≠as manejar los archivos espec√≠ficos de tareas
                        this.mostrarNotificacion(`${archivos.length} archivo(s) listos para la tarea`, 'info');
                    }
                });
                
                // Drag and drop
                const areaArrastrar = document.getElementById('area-arrastrar');
                
                areaArrastrar.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    areaArrastrar.style.borderColor = '#38a169';
                    areaArrastrar.style.background = '#f0fff4';
                });
                
                areaArrastrar.addEventListener('dragleave', () => {
                    areaArrastrar.style.borderColor = '#cbd5e0';
                    areaArrastrar.style.background = '#f8fafc';
                });
                
                areaArrastrar.addEventListener('drop', async (e) => {
                    e.preventDefault();
                    areaArrastrar.style.borderColor = '#cbd5e0';
                    areaArrastrar.style.background = '#f8fafc';
                    
                    const archivos = Array.from(e.dataTransfer.files);
                    if (archivos.length > 0) {
                        await this.subirArchivos(archivos);
                    }
                });
                
                // Cambio de fecha en archivos
                document.getElementById('fecha-archivos').addEventListener('change', () => {
                    this.cargarArchivosPorFecha();
                });
                
                // Cambio de tipo de informe
                document.getElementById('tipo-informe').addEventListener('change', () => {
                    this.actualizarFechasInforme();
                });
            }
            
            // ============================================
            // 9. FUNCIONES P√öBLICAS (ACCESIBLES DESDE HTML)
            // ============================================
            
            cambiarSeccion(nombreSeccion) {
                // Ocultar todas las secciones
                document.querySelectorAll('.seccion-contenido').forEach(seccion => {
                    seccion.classList.remove('visible');
                });
                
                // Desactivar todos los botones de navegaci√≥n
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('activo');
                });
                
                // Mostrar secci√≥n seleccionada
                document.getElementById(nombreSeccion).classList.add('visible');
                
                // Activar bot√≥n correspondiente
                document.querySelector(`[onclick="cambiarSeccion('${nombreSeccion}')"]`).classList.add('activo');
                
                // Actualizar datos si es necesario
                if (nombreSeccion === 'dashboard') {
                    this.cargarEstadisticasDashboard();
                } else if (nombreSeccion === 'archivos') {
                    this.cargarArchivosPorFecha();
                    this.actualizarEstadisticasArchivos();
                } else if (nombreSeccion === 'calendario') {
                    this.renderizarCalendario();
                } else if (nombreSeccion === 'tareas') {
                    this.cargarTareas();
                }
            }
            
            diaAnterior() {
                const entradaFecha = document.getElementById('fecha-archivos');
                const fechaActual = new Date(entradaFecha.value);
                fechaActual.setDate(fechaActual.getDate() - 1);
                entradaFecha.value = this.formatearFecha(fechaActual);
                this.cargarArchivosPorFecha();
            }
            
            diaSiguiente() {
                const entradaFecha = document.getElementById('fecha-archivos');
                const fechaActual = new Date(entradaFecha.value);
                fechaActual.setDate(fechaActual.getDate() + 1);
                entradaFecha.value = this.formatearFecha(fechaActual);
                this.cargarArchivosPorFecha();
            }
            
            irHoy() {
                const hoy = this.formatearFecha(new Date());
                document.getElementById('fecha-archivos').value = hoy;
                this.cargarArchivosPorFecha();
            }
        }
        
        // ============================================
        // INICIALIZACI√ìN GLOBAL
        // ============================================
        
        let sistema;
        
        document.addEventListener('DOMContentLoaded', function() {
            try {
                sistema = new SistemaDRTE();
                
                // Hacer funciones globales
                window.sistema = sistema;
                window.cambiarSeccion = (nombreSeccion) => sistema.cambiarSeccion(nombreSeccion);
                window.guardarBitacora = () => sistema.guardarBitacora();
                window.cargarBitacora = () => sistema.cargarBitacora();
                window.cargarHoy = () => sistema.cargarHoy();
                window.cargarArchivosFecha = () => sistema.cargarArchivosPorFecha();
                window.diaAnterior = () => sistema.diaAnterior();
                window.diaSiguiente = () => sistema.diaSiguiente();
                window.irHoy = () => sistema.irHoy();
                window.mesAnterior = () => sistema.mesAnterior();
                window.mesSiguiente = () => sistema.mesSiguiente();
                window.filtrarDashboard = (periodo) => sistema.filtrarDashboard(periodo);
                window.generarInformeDiario = () => sistema.generarInformeDiario();
                window.generarPDFBitacora = () => sistema.generarPDFBitacora();
                window.exportarPDF = () => sistema.exportarPDF();
                window.exportarExcel = () => sistema.exportarExcel();
                window.exportarWord = () => sistema.exportarWord();
                window.imprimirInforme = () => sistema.imprimirInforme();
                window.enviarEmail = () => sistema.enviarEmail();
                window.actualizarFechasInforme = () => sistema.actualizarFechasInforme();
                window.generarPrevisualizacion = () => sistema.generarPrevisualizacion();
                window.crearTarea = () => sistema.crearTarea();
                window.filtrarTareas = (filtro) => sistema.filtrarTareas(filtro);
                
                console.log('‚úÖ Sistema DRTE MEP completamente inicializado');
                
            } catch (error) {
                console.error('‚ùå Error cr√≠tico al cargar el sistema:', error);
                alert('Error al cargar la aplicaci√≥n. Por favor, recargue la p√°gina.');
            }
        });
    </script>
</body>
</html>
